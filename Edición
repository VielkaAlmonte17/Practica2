// Creacion del Objeto Ficticio
var Estudiante = {
    ID: "",
    Nombre: "",
    Apellido: "",
    Matricula: "",
    Nota: "",
    Acciones: ""
};

// El Metodo para la Creacion del ID Aleatorio

function GenerarIDAleatorio() {

    return Math.floor(Math.random() * 10000) + 1;
}

function AsignarIDAleatorio(estudiante) {

    var ID = GenerarIDAleatorio();

    estudiante.ID = ID;
}


AsignarIDAleatorio(estudiante);
console.log("ID asignado al estudiante:", Estudiante.ID);


// La Visualizacion de los Objetos

var estudiante1 = Object.create(Estudiante);
estudiante1.ID = 1;
estudiante1.Nombre = "George";
estudiante1.Apellido = "Liriano";
estudiante1.Matricula = "2022-0378";
estudiante1.Nota = 98;
estudiante1.Acciones = "Editar, Eliminar";

var estudiante2 = Object.create(Estudiante);
estudiante2.ID = 2;
estudiante2.Nombre = "Daveyi";
estudiante2.Apellido = "Martinez";
estudiante2.Matricula = "2022-0232";
estudiante2.Nota = 92;
estudiante2.Acciones = "Editar, Eliminar";

var estudiante3 = Object.create(Estudiante);
estudiante3.ID = 3;
estudiante3.Nombre = "Carlos";
estudiante3.Apellido = "Sosa";
estudiante3.Matricula = "2022-3492";
estudiante3.Nota = 88;
estudiante3.Acciones = "Editar, Eliminar";

var estudiante4 = Object.create(Estudiante);
estudiante4.ID = 4;
estudiante4.Nombre = "Lisa";
estudiante4.Apellido = "Morillo";
estudiante4.Matricula = "2022-9212";
estudiante4.Nota = 83;
estudiante4.Acciones = "Editar, Eliminar";

var estudiante5 = Object.create(Estudiante);
estudiante5.ID = 5;
estudiante5.Nombre = "Alexander";
estudiante5.Apellido = "de la Cruz";
estudiante5.Matricula = "2022-4702";
estudiante5.Nota = 94;
estudiante5.Acciones = "Editar, Eliminar";


// La Funcion que guarde el Objeto en el Local Storage


var listaEstudiantes = [estudiante1, estudiante2, estudiante3, estudiante4, estudiante5];

function GuardarEstudiantes(estudiantes) {

    var estudiantesJSON = JSON.stringify(estudiantes);

    localStorage.setItem('estudiantes', estudiantesJSON);
}

// Llamar a la función para guardar la lista de estudiantes en el localStorage
GuardarEstudiantes(listaEstudiantes);


// La Funcion que recupera todos los estudiantes en una Lista


function ObtenerTodosLosEstudiantes() {

    var estudiantesJSON = localStorage.getItem('estudiantes');

    if (estudiantesJSON) {

        var estudiantes = JSON.parse(estudiantesJSON);
        return estudiantes;
    } else {

        return [];
    }
}

// El Uso de la función para obtener todos los estudiantes del localStorage
var todosLosEstudiantes = ObtenerTodosLosEstudiantes();
console.log(todosLosEstudiantes);

//Eliminar línea con botón en editar

function eliminarLinea(button) {
    var row = button.parentNode.parentNode;
    row.parentNode.removeChild(row);
}

    < script >
    function mostrarDatos() {
        var datos = {
            Nombre: "Juan",
            Apellido: "Perez",
            Matricula: "12345",
            Nota: "A",
            Accion: "Editar"
        };

        //template que muestra los datos de la tabla y se actualiza
        var template = document.getElementById('tableTemplate').innerHTML;
        var result = template.replace(/{{\s*(\w+)\s*}}/g, function (match, p1) {
            return datos[p1];
        });

        var newTable = document.createElement('table');
        newTable.innerHTML = result;
        document.body.appendChild(newTable);
    }
        </script >

// Recuperar los datos del local storage al cargar el DOM
document.addEventListener("DOMContentLoaded", function () {
    var estudiantesRecuperados = JSON.parse(localStorage.getItem('estudiantes'));

    // Añadir los datos recuperados a la tabla
    var tabla = document.getElementById('tablaEstudiantes');
    estudiantesRecuperados.forEach(function (estudiante) {
        var row = tabla.insertRow(-1);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        cell1.innerHTML = estudiante.nombre;
        cell2.innerHTML = estudiante.edad;
    });
});
